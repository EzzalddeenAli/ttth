<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ttth</title>

    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <script>if (typeof module === 'object') {window.module = module; module = undefined;}</script>

    <!-- jquery -->
    <!-- 3.4.1 -->
    <script type="text/javascript" src="lib/jquery/3.4.1/jquery-3.4.1.min.js"></script>

    <!-- bootstrap -->
    <!-- 4.3.1 -->
    <link rel="stylesheet" href="lib/bootstrap/4.3.1/css/bootstrap.min.css">
    <script type="text/javascript" src="lib/bootstrap/4.3.1/js/bootstrap.min.js" async></script>

    <!-- fontawesome -->
    <!-- 5.10.2 -->
    <script type="text/javascript" src="lib/fontawesome-free-web/5.10.2/js/all.min.js" async></script>

    <!-- noty -->
    <!-- 3.2.0-beta -->
    <link rel="stylesheet" href="lib/noty/3.2.0-beta/noty.css" >
    <link rel="stylesheet" href="lib/noty/3.2.0-beta/themes/bootstrap-v4.css">
    <script type="text/javascript" src="lib/noty/3.2.0-beta/noty.min.js" async></script>

    <!-- modalLoading -->
    <script type="text/javascript" src="lib/jquery.modalLoading/modalLoading.js"></script>

    <!-- ttth -->
    <link rel="stylesheet" href="css/ttth/general.css" >
    <link rel="stylesheet" href="css/ttth/mainWindow.css" >
    <script type="text/javascript" src="js/ttth/ttth.js" async></script>
    <script type="text/javascript" src="js/ttth/services/WhatsApp.js" async></script>

</head>

<body>

    <div class="etabs-tabgroup">
    <div class="etabs-tabs"></div>
    <div class="etabs-buttons"></div>
</div>
<div class="etabs-views"></div>


    <!-- navigation -->
    <nav class="tabs">
        <!-- tabBar -->
        <div id="tabBar" >
            <!-- Tab Names -->
            <ul class="nav nav-tabs" id="myTabs" role="tablist">
                <li class="nav-item small" id="menu_Settings" i18n-title="mw_settingsTabName">
                    <a class="nav-link ttth_nonSelectableText active" id="target_Settings" href="#Settings" role="tab" data-toggle="tab" >
                        <i class="fas fa-cog"></i> <span i18n-text=""></span>
                    </a>
                </li>
            </ul>
            <!-- /Tab Names -->
        </div>
        <!-- /tabBar -->
    </nav>
    <!-- /navigation -->


    <!-- container -->
    <div class="container-fluid h-100 d-flex flex-column fuya">

        <!-- Tab Content -->
        <div class="row flex-fill">

            <!-- Tab panes -->
            <div id="tabPanes" class="tab-content container-fluid">

                <!-- TabContent: Settings -->
                <div role="tabpanel" class="tab-pane active flex-fill ttth_resizer container-fluid" id="Settings">

                    <div id="allSettings" class="ttth_nonSelectableText">

                        <!-- About -->
                        <h3 i18n-text="mw_settingsAboutTitle"><!-- About --></h3>

                        <!-- About: Description -->
                        <div>
                            <span class="small" i18n-text="mw_settingsAboutAppDescription" id="settingsAppDescription"><!-- Description --></span>
                            <button type="button" id="bt_aboutShowMore" class="btn btn-outline-secondary btn-sm" data-toggle="collapse" data-target="#demo" onClick="settingsAboutShowMore();" i18n-text="mw_settingsAboutButtonShowMore"><!-- show more --></button><br>
                        </div>

                        <div id="demo" class="collapse">
                            <!-- List of buttons with links -->
                            <div>
                                <a href="#" class="btn btn-outline-secondary btn-sm" i18n-text="mw_settingsAboutButtonReadme" onclick="openURL('https://github.com/yafp/ttth/blob/master/README.md')" title="https://github.com/yafp/ttth/blob/master/README.md"><!-- Readme --></a>
                                <a href="#" class="btn btn-outline-secondary btn-sm" i18n-text="mw_settingsAboutButtonReleases" onclick="openURL('https://github.com/yafp/ttth/releases')" title="https://github.com/yafp/ttth/releases"><!-- Releases --></a>
                                <a href="#" class="btn btn-outline-secondary btn-sm" i18n-text="mw_settingsAboutButtonChangelog" onclick="openURL('https://github.com/yafp/ttth/blob/master/docs/CHANGELOG.md')" title="https://github.com/yafp/ttth/blob/master/docs/CHANGELOG.md"><!-- Changelog --></a>
                                <a href="#" class="btn btn-outline-secondary btn-sm" i18n-text="mw_settingsAboutButtonLicense" onclick="openURL('https://github.com/yafp/ttth/blob/master/LICENSE')" title="https://github.com/yafp/ttth/blob/master/LICENSE"><!-- License --></a>
                                <a href="#" class="btn btn-outline-secondary btn-sm" i18n-text="mw_settingsAboutButtonGitHub" onclick="openURL('https://github.com/yafp/ttth')" title="https://github.com/yafp/ttth"><!-- GitHub --></a>
                                <a href="#" class="btn btn-outline-secondary btn-sm" i18n-text="mw_settingsAboutButtonIssues" onclick="openURL('https://github.com/yafp/ttth/issues')" title="https://github.com/yafp/ttth/issues"><!-- Issues --></a>
                                <a href="#" class="btn btn-outline-danger btn-sm" i18n-text="mw_settingsAboutButtonConsole" onclick="openDevTools();"><!-- Console --></a>
                            </div>
                        </div>
                        <!-- /About -->


                        <!-- Service Section -->
                        <!-- Adding services -->
                        <h3 i18n-text="mw_settingsServicesAddServiceTitle"><!-- Add service --></h3>
                        <div id="settingsServicesAdd">
                            <div class="input-group mb-3">
                                <select id="select_availableServices"  class="custom-select ttth_select" name="select_availableServices" title="" i18n-title="mw_settingsServicesSelectAddService" aria-label="Dropdown element to select a service type for service creation" onChange="settingsSelectServiceToAddChanged();">
                                    <option value="" disabled selected name="select_availableServices" i18n-text="mw_settingsServicesSelectAddService"><!-- i18n --></option>
                                </select>
                                <div class="input-group-append">
                                    <button id="bt_addNewService" type="button" class="btn btn-secondary btn-sm" onClick="settingsUserAddNewService();" i18n-text="mw_settingsServicesButtonAdd" i18n-title="mw_settingsServicesButtonTitleAdd" aria-label="Button to add a new service" disabled><!-- Add --></button>
                                </div>
                            </div>
                        </div>

                        <!-- Configure services -->
                        <h3 i18n-text="mw_settingsServicesConfiguredTitle"><!-- Configured services --></h3>
                        <div id="settingsServicesConfigured">
                            <!-- load dynamic from json file in user data -->
                        </div>

                        <div class="text-left">
                            <button type="button" class="btn btn-outline-secondary btn-sm" onClick="openUserServicesConfigFolder();" i18n-text="mw_settingsServicesButtonTextShowConfigs" i18n-title="mw_settingsServicesButtonTitleShowConfigs" aria-label="Button to open the folder which contains all user configured service configs"><!-- Configurations --></button>
                        </div>
                        <!-- /Service Section -->


                        <!-- Options-->
                        <h3 i18n-text="mw_settingsOptionsTitle"><!-- options --></h3>

                        <!-- Option: DefaultView-->
                        <div class="input-group input-group-sm mb-1">
                            <div class="input-group-prepend">
                                <div class="input-group-text">
                                    <input type="checkbox" aria-label="Disabled checkbox for the selectDefaultView option" checked disabled>
                                </div>
                            </div>
                            <input type="text" class="form-control" aria-label="Disabled text input which describes the selectDefaultView option" value="" i18n-value="mw_settingsOptionsDescDefaultView" disabled>
                            <div class="input-group-prepend">
                                <div class="input-group-text">
                                    <select id="selectDefaultView" name="selectDefaultView" class="ttth_select">
                                        <option value="" disabled selected i18n-text="mw_settingsOptionsSelectDefaultView"><!-- i18n --></option>
                                    </select>
                                </div>
                            </div>
                            <div class="input-group-prepend">
                                <button type="button" class="btn btn-success btn-sm" id="bt_updateDefaultView" title="" i18n-title="mw_settingsOptionsButtonTextDefaultViewSet" onClick="settingDefaultViewUpdate();"><i class="fas fa-save"></i></button>
                                <button type="button" class="btn btn-danger btn-sm" id="bt_resetDefaultView" title="" i18n-title="mw_settingsOptionsButtonTextDefaultViewReset" onClick="settingDefaultViewReset();"><i class="fas fa-trash-alt"></i></button>
                            </div>
                        </div>
                        <!-- /Option: DefaultView -->


                        <!-- Option: Autostart -->
                        <div class="input-group input-group-sm mb-1">
                            <div class="input-group-prepend">
                                <div class="input-group-text">
                                    <input type="checkbox" class="ttth_checkbox" id="checkboxSettingAutostart" aria-label="Checkbox for option Autostart" onClick="settingToggleAutostart();">
                                </div>
                            </div>
                            <input type="text" class="form-control" aria-label="Disabled text input which describes the autostart option" value="" i18n-value="mw_settingsOptionsDescAutostart" disabled>
                        </div>
                        <!-- /Option: Autostart  -->


                        <!-- Option: HideMenubarOnStartup -->
                        <div class="input-group input-group-sm mb-1" id="settingsSectionStartupHideMenubar">
                            <div class="input-group-prepend">
                                <div class="input-group-text">
                                    <input type="checkbox" id="checkboxSettingHideMenubar" aria-label="Checkbox for the hide menubar on startup otion" onClick="settingToggleMenubarVisibility();">
                                </div>
                            </div>
                            <input type="text" class="form-control" aria-label="Disabled text input which describes the hide menubar on startup option" value="" i18n-value="mw_settingsOptionsDescHideMenubar" disabled>
                        </div>
                        <!-- /Option: HideMenubarOnStartup  -->

                         <!-- Option: DisableTray -->
                        <div class="input-group input-group-sm mb-1" id="settingsSectionDisableTray">
                            <div class="input-group-prepend">
                                <div class="input-group-text">
                                    <input type="checkbox" id="checkboxSettingDisableTray" aria-label="Checkbox for disable tray" onClick="settingToggleDisableTray();">
                                </div>
                            </div>
                            <input type="text" class="form-control" aria-label="Disabled text input which describes the hide menubar on startup option" value="" i18n-value="mw_settingsOptionsDescDisableTray" disabled>
                        </div>
                        <!-- /Option: DisableTray -->

                        <!-- Option: DarkMode -->
                        <div class="input-group input-group-sm mb-1" id="settingsSectionDarkMode">
                            <div class="input-group-prepend">
                                <div class="input-group-text">
                                    <input type="checkbox" id="checkboxSettingDarkMode" aria-label="Checkbox for dark mode" onClick="settingToggleDarkMode();">
                                </div>
                            </div>
                            <input type="text" class="form-control" aria-label="Disabled text input which describes the hide menubar on startup option" value="" i18n-value="mw_settingsOptionsDescDarkMode" disabled>
                        </div>
                        <!-- /Option: DarkMode -->

                    </div>
                </div>
                <!-- /Tab: Settings -->
            </div>
            <!-- /Tab panes -->
        </div>
        <!-- /Tab Content -->

    </div>
    <!-- container -->

</body>




<script>

$( document ).ready(function()
{
    console.log( "mainWindow.html ::: ready!" );

    // hide the entire body on launch. we'll fade it back in later
    $('body').css('display', 'none');

    // start splash
    loading = $(document.body).modalLoading(100, '<img src="img/splash/icon_splash.png">');

    // load the configured user services
    loadEnabledUserServices();

    // check operating system
    checkSupportedOperatingSystem();

    // check for updates
    searchUpdate();

    // init the settings tab
    initSettingsPage();

    // Translate using i18next
    localizeUserInterface();

    // fade in the UI (0,5 sec animation)
    $('body').fadeIn(500);

    // hide splash after 500 ms
    setInterval(function()
    {
        loading.remove();
    }, 500);

    updateMainWindowTitle("");

    // execute some things later ...
    setTimeout(function()
    {
        $(document).trigger('afterready');
    }, 1000);

});


$(document).bind('afterready', function()
{
    // assuming all services are loaded now .... lets continue

    // call code here that you want to run after all $(document).ready() calls have run
    updateGlobalServicesShortcuts();

    // validate default view
    validateConfiguredDefaultView();

    // Click handler for navigation/tabs
    //
    $('#myTabs a').click(function (link)
    {
        var target = link.currentTarget.innerText;

        // remove leading space
        if(target.substr(0,1) == " ")
        {
            target = target.substr(1);
        }

        console.log("ready ::: Switched to tab: _" + target + "_.");

        // Update window title
        updateMainWindowTitle(target);

        // do page-specific things
        /*
        if(target === "Photos")
        {
            // needs a reload to display the webview properly
        }
        */
    })

});

</script>
