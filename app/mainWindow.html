<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ttth</title>

    <!-- Required meta tags -->
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- CSS -->
    <!-- ttth -->
    <link href="css/ttth/general.css" rel="stylesheet">
    <link href="css/ttth/mainWindow.css" rel="stylesheet">

    <!-- bootstrap -->
    <!-- 4.3.1 -->
    <link href="js/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet">

    <!-- noty -->
    <!-- 3.2.0-beta -->
    <link href="js/noty/3.2.0-beta/noty.css" rel="stylesheet">
    <link href="js/noty/3.2.0-beta/themes/bootstrap-v4.css" rel="stylesheet">

    <!-- JAVASCRIPT -->
    <script>if (typeof module === 'object') {window.module = module; module = undefined;}</script>

    <!-- jquery -->
    <!-- 3.3.1 -->
    <script type="text/javascript" src="js/jquery/3.3.1/jquery-3.3.1.min.js"></script>

    <!-- bootstrap -->
    <!-- 4.3.1 -->
    <script type="text/javascript" src="js/bootstrap/4.3.1/js/bootstrap.min.js" async></script>

    <!-- fontawesome -->
    <!-- 5.8.1 -->
    <script type="text/javascript" src="js/fontawesome-free-web/5.8.1/js/all.min.js" async></script>

    <!-- noty -->
    <!-- 3.2.0-beta -->
    <script type="text/javascript" src="js/noty/3.2.0-beta/noty.min.js" async></script>

    <!-- semver -->
    <!-- 2.0.0 -->
    <script type="text/javascript" src="js/semver/2.0.0/semver.min.js" async></script>

    <!-- modalLoading -->
    <script type="text/javascript" src="js/jquery.modalLoading/modalLoading.js"></script>

    <!-- ttth: general -->
    <script type="text/javascript" src="js/ttth/ttth.js" async></script>
    <!-- ttth: service specific scripts -->
    <script type="text/javascript" src="js/ttth/services/WhatsApp.js" async></script>
</head>

<body>

    <!-- navigation -->
    <nav class="tabs">
        <!-- tabBar -->
        <div id="tabBar" >
            <!-- Tab Names -->
            <ul class="nav nav-tabs" id="myTabs" role="tablist">
                <li class="nav-item small" id="menu_Settings" i18n-title="mw_settingsTabName">
                    <a class="nav-link my-ui-text active" id="target_Settings" href="#Settings" role="tab" data-toggle="tab" >
                        <i class="fas fa-cog"></i> <span i18n-text=""></span>
                    </a>
                </li>
            </ul>
            <!-- /Tab Names -->
        </div>
        <!-- /tabBar -->
    </nav>
    <!-- /navigation -->


    <!-- container -->
    <div class="container-fluid h-100 d-flex flex-column fuya">

        <!-- Tab Content -->
        <div class="row flex-fill">

            <!-- Tab panes -->
            <div id="tabPanes" class="tab-content container-fluid">

                <!-- TabContent: Settings -->
                <div role="tabpanel" class="tab-pane active flex-fill resizer container-fluid" id="Settings">

                    <div id="allSettings" class="my-ui-text">

                        <!-- About -->
                        <h3 i18n-text="mw_settingsAboutTitle"><!-- About --></h3>

                        <!-- About: Description -->
                        <div>
                            <span class="small" i18n-text="mw_settingsAboutAppDescription" id="settingsAppDescription"><!-- Description --></span>
                            <button type="button" id="bt_aboutShowMore" class="btn btn-outline-secondary btn-sm" data-toggle="collapse" data-target="#demo" onClick="settingsAboutShowMore();" i18n-text="mw_settingsAboutButtonShowMore"><!-- show more --></button><br>
                        </div>

                        <div id="demo" class="collapse">
                            <!-- List of buttons with links -->
                            <div>
                                <a href="#" class="btn btn-outline-secondary btn-sm" i18n-text="mw_settingsAboutButtonReadme" onclick="openURL('https://github.com/yafp/ttth/blob/master/README.md')" title="https://github.com/yafp/ttth/blob/master/README.md"><!-- Readme --></a>
                                <a href="#" class="btn btn-outline-secondary btn-sm" i18n-text="mw_settingsAboutButtonReleases" onclick="openURL('https://github.com/yafp/ttth/releases')" title="https://github.com/yafp/ttth/releases"><!-- Releases --></a>
                                <a href="#" class="btn btn-outline-secondary btn-sm" i18n-text="mw_settingsAboutButtonChangelog" onclick="openURL('https://github.com/yafp/ttth/blob/master/docs/CHANGELOG.md')" title="https://github.com/yafp/ttth/blob/master/docs/CHANGELOG.md"><!-- Changelog --></a>
                                <a href="#" class="btn btn-outline-secondary btn-sm" i18n-text="mw_settingsAboutButtonLicense" onclick="openURL('https://github.com/yafp/ttth/blob/master/LICENSE')" title="https://github.com/yafp/ttth/blob/master/LICENSE"><!-- License --></a>
                                <a href="#" class="btn btn-outline-secondary btn-sm" i18n-text="mw_settingsAboutButtonGitHub" onclick="openURL('https://github.com/yafp/ttth')" title="https://github.com/yafp/ttth"><!-- GitHub --></a>
                                <a href="#" class="btn btn-outline-secondary btn-sm" i18n-text="mw_settingsAboutButtonIssues" onclick="openURL('https://github.com/yafp/ttth/issues')" title="https://github.com/yafp/ttth/issues"><!-- Issues --></a>
                                <a href="#" class="btn btn-outline-danger btn-sm" i18n-text="mw_settingsAboutButtonConsole" onclick="openDevTools();"><!-- Console --></a>
                            </div>
                        </div>
                        <!-- /About -->


                        <!-- Service Section -->
                        <!-- Adding services -->
                        <h3 i18n-text="mw_settingsServicesAddServiceTitle"><!-- Add service --></h3>
                        <div id="settingsServicesAdd">
                            <div class="input-group mb-3">
                                <select id="select_availableServices"  class="custom-select" name="select_availableServices" title="" i18n-title="mw_settingsServicesSelectAddService" aria-label="Dropdown element to select a service type for service creation" onChange="settingsSelectServiceToAddChanged();">
                                    <option value="" disabled selected name="select_availableServices" i18n-text="mw_settingsServicesSelectAddService"><!-- i18n --></option>
                                </select>
                                <div class="input-group-append">
                                    <button id="bt_addNewService" type="button" class="btn btn-secondary btn-sm" onClick="settingsUserAddNewService();" i18n-text="mw_settingsServicesButtonAdd" i18n-title="mw_settingsServicesButtonTitleAdd" aria-label="Button to add a new service" disabled><!-- Add --></button>
                                </div>
                            </div>
                        </div>

                        <!-- Configure services -->
                        <h3 i18n-text="mw_settingsServicesConfiguredTitle"><!-- Configured services --></h3>
                        <div id="settingsServicesConfigured">
                            <!-- load dynamic from json file in user data -->
                        </div>

                        <div class="text-left">
                            <button type="button" class="btn btn-outline-secondary btn-sm" onClick="openUserServicesConfigFolder();" i18n-text="mw_settingsServicesButtonTextShowConfigs" i18n-title="mw_settingsServicesButtonTitleShowConfigs" aria-label="Button to open the folder which contains all user configured service configs"><!-- Configurations --></button>
                        </div>
                        <!-- /Service Section -->


                        <!-- Options-->
                        <h3 i18n-text="mw_settingsOptionsTitle"><!-- options --></h3>

                        <!-- Setting: DefaultView-->
                        <div class="input-group input-group-sm mb-1">
                            <div class="input-group-prepend">
                                <div class="input-group-text">
                                    <input type="checkbox" aria-label="Disabled checkbox for the selectDefaultView option" checked disabled>
                                </div>
                            </div>
                            <input type="text" class="form-control" aria-label="Disabled text input which describes the selectDefaultView option" value="" i18n-value="mw_settingsOptionsDescDefaultView" disabled>
                            <div class="input-group-prepend">
                                <div class="input-group-text">
                                    <select id="selectDefaultView" name="selectDefaultView" class="">
                                        <option value="" disabled selected i18n-text="mw_settingsOptionsSelectDefaultView"><!-- i18n --></option>
                                    </select>
                                </div>
                            </div>
                            <div class="input-group-prepend">
                                <button type="button" class="btn btn-success btn-sm" id="bt_updateDefaultView" title="" i18n-title="mw_settingsOptionsButtonTextDefaultViewSet" onClick="settingDefaultViewUpdate();"><i class="fas fa-save"></i></button>
                                <button type="button" class="btn btn-danger btn-sm" id="bt_resetDefaultView" title="" i18n-title="mw_settingsOptionsButtonTextDefaultViewReset" onClick="settingDefaultViewReset();"><i class="fas fa-trash-alt"></i></button>
                            </div>
                        </div>
                        <!-- /Setting: DefaultView -->


                        <!-- Setting: Autostart -->
                        <div class="input-group input-group-sm mb-1">
                            <div class="input-group-prepend">
                                <div class="input-group-text">
                                    <input type="checkbox" id="checkboxSettingAutostart" aria-label="Checkbox for option Autostart" onClick="settingToggleAutostart();">
                                </div>
                            </div>
                            <input type="text" class="form-control" aria-label="Disabled text input which describes the autostart option" value="" i18n-value="mw_settingsOptionsDescAutostart" disabled>
                        </div>
                        <!-- /Setting: Autostart  -->

                        <!-- Setting: HideMenubarOnStartup -->
                        <div class="input-group input-group-sm mb-1" id="settingsSectionStartupHideMenubar">
                            <div class="input-group-prepend">
                                <div class="input-group-text">
                                    <input type="checkbox" id="checkboxSettingHideMenubar" aria-label="Checkbox for the hide menubar on startup otion" onClick="settingToggleMenubarVisibility();">
                                </div>
                            </div>
                            <input type="text" class="form-control" aria-label="Disabled text input which describes the hide menubar on startup option" value="" i18n-value="mw_settingsOptionsDescHideMenubar" disabled>
                        </div>
                        <!-- /Setting: HideMenubarOnStartup  -->

                    </div>
                </div>
                <!-- /Tab: Settings -->
            </div>
            <!-- /Tab panes -->
        </div>
        <!-- /Tab Content -->

    </div>
    <!-- container -->

</body>




<script>

$( document ).ready(function()
{
    console.log( "mainWindow.html ::: ready!" );

    // hide the entire body on launch. we'll fade it back in later
    $('body').css('display', 'none');

    // start splash
    loading = $(document.body).modalLoading(100, '<img src="img/splash/icon_splash.png">');

    // load the configured user services
    loadEnabledUserServices();

    // check operating system
    checkSupportedOperatingSystem();

    // check for updates
    searchUpdate();

    // init the settings tab
    initSettingsPage();

    // Translate using i18next
    localizeUserInterface();

    // fade in the UI (1 sec animation)
    $('body').fadeIn(1000);

    // hide splash
    setInterval(function()
    {
        loading.remove();
    }, 500);

    updateMainWindowTitle("");

    // execute some things later ...
    setTimeout(function()
    {
        $(document).trigger('afterready');
    }, 1000);

});


$(document).bind('afterready', function()
{
    // call code here that you want to run after all $(document).ready() calls have run
    updateGlobalServicesShortcuts();

    // validate default view
    validateConfiguredDefaultView();

    // Click handler for navigation/tabs
    //
    $('#myTabs a').click(function (link)
    {
        var target = link.currentTarget.innerText;

        // remove leading space
        if(target.substr(0,1) == " ")
        {
            target = target.substr(1);
        }

        console.log("ready ::: Switched to tab: _" + target + "_.");

        // Update window title
        updateMainWindowTitle(target);

        // do page-specific things
        /*
        if(target === "Photos")
        {
            // needs a reload to display the webview properly
        }
        */
    })

});

</script>
